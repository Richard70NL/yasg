/************************************************************************************************/

use crate::text::s;
use crate::text::Text::*;

/************************************************************************************************/

#[derive(Debug)]
pub struct YasgError {
    messages: Vec<String>,
}

/************************************************************************************************/

impl YasgError {
    /*------------------------------------------------------------------------------------------*/

    pub fn new(message: String) -> YasgError {
        YasgError {
            messages: Vec::new(),
        }
        .add(message)
    }

    /*------------------------------------------------------------------------------------------*/

    pub fn add(mut self, message: String) -> YasgError {
        self.messages.insert(0, message);
        self
    }

    /*------------------------------------------------------------------------------------------*/

    pub fn show(&self) {
        eprintln!("{}", s(ErrorYasgExit));
        for msg in &self.messages {
            eprintln!("- {}", msg);
        }
    }

    /*------------------------------------------------------------------------------------------*/
}

/************************************************************************************************/
